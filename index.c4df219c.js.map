{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,kBAG9BC,EAAW,IAajB,WACI,MAAMC,EAAeC,aAAaC,QAflB,uBAgBVC,EAAqBC,KAAKC,MAAML,GAEtC,GAAIA,EAAc,CACGM,OAAOC,KAAKJ,GACpBK,KAAIC,IACTZ,SAASC,cAAc,UAAUW,OAASC,MAAQP,EAAmBM,EAAI,G,EAlBrFE,GACAf,EAAKgB,iBAAiB,QAASC,EAAAnB,EAAA,EAI/B,SAAqBoB,GACjBf,EAASe,EAAIC,OAAOC,MAAQF,EAAIC,OAAOL,MACvCT,aAAagB,QAVG,sBAUkBb,KAAKc,UAAUnB,G,GANA,MACrDH,EAAKgB,iBAAiB,UAqBtB,SAAsBE,GAClBA,EAAIK,iBAEJL,EAAIC,OAAOK,QAEXnB,aAAaoB,WA/BG,sB","sources":["src/03-feedback.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\nconst form = document.querySelector('.feedback-form');\n\nconst STORAGE_KEY = \"feedback-form-state\";\nconst formData = {};\n\npopulateInput() \nform.addEventListener('input', throttle(onFormInput, 500));\nform.addEventListener('submit', onFormSubmit);\n\n\nfunction onFormInput(evt) {\n    formData[evt.target.name] = evt.target.value;\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n   \n}\n\nfunction populateInput() {\n    const savedMessage = localStorage.getItem(STORAGE_KEY);\n    const parcedSavedMessage = JSON.parse(savedMessage);\n\n    if (savedMessage) {\n        const formKeys = Object.keys(parcedSavedMessage);\n        formKeys.map(key => {\n            document.querySelector(`[name='${key}']`).value = parcedSavedMessage[key];\n        })\n    }\n}\n\nfunction onFormSubmit(evt) {\n    evt.preventDefault();\n\n    evt.target.reset();\n\n    localStorage.removeItem(STORAGE_KEY);\n}"],"names":["$9OeKo","parcelRequire","$a3e476c9bc4ed6e7$var$form","document","querySelector","$a3e476c9bc4ed6e7$var$formData","savedMessage","localStorage","getItem","parcedSavedMessage","JSON","parse","Object","keys","map","key","value","$a3e476c9bc4ed6e7$var$populateInput","addEventListener","$parcel$interopDefault","evt","target","name","setItem","stringify","preventDefault","reset","removeItem"],"version":3,"file":"index.c4df219c.js.map"}